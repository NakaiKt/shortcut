import type { Command } from '../types';

export const commands: Command[] = [
  {
    id: 'rename-file-dir',
    category: 'basic',
    name: 'ディレクトリ名/ファイル名変更',
    description: 'ファイルまたはディレクトリの名前を変更します',
    windowsCommand: 'ren 旧名前 新名前',
    macCommand: 'mv 旧名前 新名前',
  },
  {
    id: 'get-ip',
    category: 'basic',
    name: 'IP取得',
    description: '外部IPアドレスを取得します',
    windowsCommand: 'curl ipecho.net/plain; echo',
    macCommand: 'curl ipecho.net/plain; echo',
  },
  {
    id: 'sequelize-db-create',
    category: 'sequelize',
    name: 'ローカルデータベース作成',
    description: 'config.jsonの設定に基づいてローカル環境にデータベースを作成します',
    windowsCommand: 'sequelize db:create',
    macCommand: 'sequelize db:create',
  },
  {
    id: 'sequelize-migration-generate',
    category: 'sequelize',
    name: 'マイグレーションファイル作成',
    description: 'ローカルにマイグレーションファイルのみ作成（中身は自分で書く）。既存テーブルの更新時に使用',
    windowsCommand: 'sequelize migration:generate',
    macCommand: 'sequelize migration:generate',
    options: [
      {
        id: 'name',
        windows: '--name {マイグレーション名}',
        mac: '--name {マイグレーション名}',
        description: 'マイグレーションファイル名を指定',
      },
    ],
  },
  {
    id: 'sequelize-model-generate',
    category: 'sequelize',
    name: 'モデル + マイグレーション作成',
    description: 'ローカルにモデルとマイグレーションファイルを同時作成（新規テーブル作成時に使用）。model:createでも同じ動作',
    windowsCommand: 'sequelize model:generate',
    macCommand: 'sequelize model:generate',
    options: [
      {
        id: 'name',
        windows: '--name {モデル名}',
        mac: '--name {モデル名}',
        description: 'モデル名を指定（例：User）',
      },
      {
        id: 'underscored',
        windows: '--underscored',
        mac: '--underscored',
        description: 'スネークケースのカラム名を使用（推奨）',
      },
      {
        id: 'attributes',
        windows: '--attributes {属性定義}',
        mac: '--attributes {属性定義}',
        description: '属性を指定（例：name:string,email:string）。省略可能',
      },
    ],
  },
  {
    id: 'sequelize-db-migrate',
    category: 'sequelize',
    name: 'マイグレーション実行',
    description: 'ローカルDBに未実行のマイグレーションをすべて実行します',
    windowsCommand: 'sequelize db:migrate',
    macCommand: 'sequelize db:migrate',
  },
  {
    id: 'sequelize-db-migrate-status',
    category: 'sequelize',
    name: 'マイグレーションステータス確認',
    description: 'ローカルDBの実行済み/未実行のマイグレーションを確認します',
    windowsCommand: 'sequelize db:migrate:status',
    macCommand: 'sequelize db:migrate:status',
  },
  {
    id: 'sequelize-db-migrate-undo',
    category: 'sequelize',
    name: 'マイグレーションロールバック',
    description: 'ローカルDBの最新のマイグレーションを取り消します',
    windowsCommand: 'sequelize db:migrate:undo',
    macCommand: 'sequelize db:migrate:undo',
  },
  {
    id: 'supabase-init',
    category: 'supabase',
    name: 'プロジェクト初期化',
    description: 'ローカルにSupabaseプロジェクトを初期化します',
    windowsCommand: 'supabase init',
    macCommand: 'supabase init',
  },
  {
    id: 'supabase-start',
    category: 'supabase',
    name: 'ローカル環境起動',
    description: 'ローカル環境をDockerで起動します',
    windowsCommand: 'supabase start',
    macCommand: 'supabase start',
  },
  {
    id: 'supabase-stop',
    category: 'supabase',
    name: 'ローカル環境停止',
    description: 'ローカル環境を停止します',
    windowsCommand: 'supabase stop',
    macCommand: 'supabase stop',
  },
  {
    id: 'supabase-status',
    category: 'supabase',
    name: 'ステータス確認',
    description: 'ローカル環境のステータスを確認します',
    windowsCommand: 'supabase status',
    macCommand: 'supabase status',
  },
  {
    id: 'supabase-migration-new',
    category: 'supabase',
    name: 'マイグレーションファイル作成',
    description: 'ローカルにタイムスタンプ付きでマイグレーションファイルを作成します',
    windowsCommand: 'supabase migration new',
    macCommand: 'supabase migration new',
    options: [
      {
        id: 'name',
        windows: '{マイグレーション名}',
        mac: '{マイグレーション名}',
        description: 'マイグレーションファイル名を指定',
      },
    ],
  },
  {
    id: 'supabase-db-reset',
    category: 'supabase',
    name: 'ローカルDBリセット',
    description: 'すべてのマイグレーションを再実行してローカルDBをリセットします',
    windowsCommand: 'supabase db reset',
    macCommand: 'supabase db reset',
  },
  {
    id: 'supabase-migration-up',
    category: 'supabase',
    name: '差分マイグレーション実行',
    description: 'ローカルDBに未実行の差分マイグレーションのみ実行します',
    windowsCommand: 'supabase migration up',
    macCommand: 'supabase migration up',
  },
  {
    id: 'supabase-link',
    category: 'supabase',
    name: 'リモートプロジェクトとリンク',
    description: 'Supabaseリモートプロジェクトとリンクします',
    windowsCommand: 'supabase link',
    macCommand: 'supabase link',
    options: [
      {
        id: 'project-ref',
        windows: '--project-ref {プロジェクトID}',
        mac: '--project-ref {プロジェクトID}',
        description: 'プロジェクトIDを指定',
      },
    ],
  },
  {
    id: 'supabase-db-push',
    category: 'supabase',
    name: 'リモートにマイグレーションプッシュ',
    description: 'ローカルのマイグレーションをリモート環境に反映します',
    windowsCommand: 'supabase db push',
    macCommand: 'supabase db push',
  },
  {
    id: 'supabase-db-pull',
    category: 'supabase',
    name: 'リモートからスキーマ取得',
    description: 'リモート環境のスキーマをローカルに取得します',
    windowsCommand: 'supabase db pull',
    macCommand: 'supabase db pull',
  },
  {
    id: 'supabase-gen-types',
    category: 'supabase',
    name: '型定義生成',
    description: 'ローカルDBからTypeScript用の型定義ファイルを生成します',
    windowsCommand: 'supabase gen types typescript --local > types/database.ts',
    macCommand: 'supabase gen types typescript --local > types/database.ts',
  },
  {
    id: 'docker-exec',
    category: 'docker',
    name: '実行中のコンテナに接続',
    description: '実行中のDockerコンテナ内でシェルを起動します（exitしても削除されません）',
    windowsCommand: 'docker exec -it {コンテナ名またはID} /bin/bash',
    macCommand: 'docker exec -it {コンテナ名またはID} /bin/bash',
    options: [
      {
        id: 'sh',
        windows: '/bin/sh',
        mac: '/bin/sh',
        description: 'bashが使えない場合はshを使用',
      },
    ],
  },
  {
    id: 'docker-ps',
    category: 'docker',
    name: '実行中のコンテナ一覧',
    description: '現在実行中のDockerコンテナを表示します',
    windowsCommand: 'docker ps',
    macCommand: 'docker ps',
  },
  {
    id: 'docker-ps-all',
    category: 'docker',
    name: '全コンテナ一覧（停止中含む）',
    description: '実行中・停止中を含むすべてのDockerコンテナを表示します',
    windowsCommand: 'docker ps -a',
    macCommand: 'docker ps -a',
  },
  {
    id: 'docker-images',
    category: 'docker',
    name: 'イメージ一覧',
    description: 'ローカルに保存されているDockerイメージを表示します',
    windowsCommand: 'docker images',
    macCommand: 'docker images',
  },
  {
    id: 'docker-rm',
    category: 'docker',
    name: 'コンテナ削除',
    description: '停止中のDockerコンテナを削除します',
    windowsCommand: 'docker rm {コンテナ名またはID}',
    macCommand: 'docker rm {コンテナ名またはID}',
    options: [
      {
        id: 'force',
        windows: '-f',
        mac: '-f',
        description: '実行中のコンテナも強制削除',
      },
    ],
  },
  {
    id: 'docker-rmi',
    category: 'docker',
    name: 'イメージ削除',
    description: 'Dockerイメージを削除します',
    windowsCommand: 'docker rmi {イメージ名またはID}',
    macCommand: 'docker rmi {イメージ名またはID}',
    options: [
      {
        id: 'force',
        windows: '-f',
        mac: '-f',
        description: '使用中のイメージも強制削除',
      },
    ],
  },
  {
    id: 'docker-stop',
    category: 'docker',
    name: 'コンテナ停止',
    description: '実行中のDockerコンテナを停止します',
    windowsCommand: 'docker stop {コンテナ名またはID}',
    macCommand: 'docker stop {コンテナ名またはID}',
  },
  {
    id: 'docker-start',
    category: 'docker',
    name: 'コンテナ起動',
    description: '停止中のDockerコンテナを起動します',
    windowsCommand: 'docker start {コンテナ名またはID}',
    macCommand: 'docker start {コンテナ名またはID}',
  },
  {
    id: 'docker-restart',
    category: 'docker',
    name: 'コンテナ再起動',
    description: 'Dockerコンテナを再起動します',
    windowsCommand: 'docker restart {コンテナ名またはID}',
    macCommand: 'docker restart {コンテナ名またはID}',
  },
  {
    id: 'docker-logs',
    category: 'docker',
    name: 'コンテナログ表示',
    description: 'Dockerコンテナのログを表示します',
    windowsCommand: 'docker logs {コンテナ名またはID}',
    macCommand: 'docker logs {コンテナ名またはID}',
    options: [
      {
        id: 'follow',
        windows: '-f',
        mac: '-f',
        description: 'ログをリアルタイムで追跡',
      },
      {
        id: 'tail',
        windows: '--tail {行数}',
        mac: '--tail {行数}',
        description: '最後のN行のみ表示',
      },
    ],
  },
  {
    id: 'docker-container-prune',
    category: 'docker',
    name: '未使用コンテナ削除',
    description: '停止中の未使用Dockerコンテナをすべて削除します',
    windowsCommand: 'docker container prune -f',
    macCommand: 'docker container prune -f',
  },
  {
    id: 'console-history',
    category: 'console',
    name: 'コマンド履歴表示',
    description: '過去に実行したコマンドの履歴一覧を表示します',
    windowsCommand: 'history',
    macCommand: 'history',
  },
  {
    id: 'docker-compose-exec-frontend',
    category: 'docker-compose',
    name: 'frontendコンテナに接続',
    description: 'frontendコンテナ内でshシェルを起動します',
    windowsCommand: 'docker-compose exec frontend sh',
    macCommand: 'docker-compose exec frontend sh',
  },
  {
    id: 'docker-compose-down',
    category: 'docker-compose',
    name: 'コンテナ停止',
    description: '起動中のコンテナを停止して削除します',
    windowsCommand: 'docker-compose down',
    macCommand: 'docker-compose down',
  },
  {
    id: 'docker-compose-up-build',
    category: 'docker-compose',
    name: '再ビルド & 起動',
    description: 'イメージを再ビルドしてコンテナを起動します',
    windowsCommand: 'docker-compose up --build',
    macCommand: 'docker-compose up --build',
  },
];
